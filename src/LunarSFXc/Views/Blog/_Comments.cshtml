@model IEnumerable<LunarSFXc.ViewModels.CommentViewModel>
@foreach (var comment in Model.OrderByDescending(x => x.CreatedDate))
{
    <!-- Comment -->
    <div class="media">
        <a class="pull-left" href="#">
            <img class="media-object" src="http://placehold.it/64x64" alt="">
        </a>
        <div class="media-body">
            <h4 class="media-heading">
                @comment.User
                <small>@comment.CreatedDate.ToString("D") at @comment.CreatedDate.TimeOfDay.ToString("t")</small>
            </h4>
            <p>@comment.Content <button class="btn btn-sm btn-default pull-right">Reply</button></p>
            <hr />
            <!-- Nested Comments -->
            @if (comment.Replies != null && comment.Replies.Any())
            {
                @Html.Partial("_Comments", comment.Replies)
            }
        </div>
    </div>
}
